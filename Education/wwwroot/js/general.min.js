function getFormDataObj(n){for(var i=$(n).serializeArray(),r={},t=0;t<i.length;t++)i[t].name!="__RequestVerificationToken"&&(r[i[t].name]=i[t].value);return r}jQuery(document).ready(function(){$(document).on("click","body",function(){$(".login_box").removeClass("activeLogin").fadeOut(300)});$(document).on("click",".btnLogin",function(n){n.stopPropagation();$(".login_box").hasClass("activeLogin")?$(".login_box").removeClass("activeLogin").fadeOut(300):$(".login_box").addClass("activeLogin").fadeIn(300)});$(document).on("click",".login_box",function(n){n.stopPropagation()});$(".owl-carousel").owlCarousel({items:1,loop:!0,margin:0,nav:!0,autoplay:!1});$("#form-login").on("submit",function(n){n.preventDefault();let i=!1;const r=$(this),u=r.find("[name=__RequestVerificationToken]").val(),t=getFormDataObj(this);t.UserName&&t.UserName!=""?($("#UserName").css("border-color","transparent"),$("#UserName").css("color","#5a5a5a")):(i=!0,$("#UserName").css("border-color","red"),$("#UserName").css("color","red"));t.PassWord&&t.PassWord!=""?($("#PassWord").css("border-color","transparent"),$("#PassWord").css("color","#5a5a5a")):(i=!0,$("#PassWord").css("border-color","red"),$("#PassWord").css("color","red"));i||$.ajax({type:"POST",url:"/Account/Login",data:JSON.stringify(t),contentType:"application/json",headers:{RequestVerificationToken:u},success:function(n){n.isAuthorized?window.location.href="/Account/Index":($(".login_error").show(),$(".login_error").text(n.errorText))}})})});var generalFunctions={events:function(){var n=this},cellPrepared:function(n){var r=this,i,t;n.rowType==="data"&&n.column.command==="edit"&&(i=n.row.isEditing,t=n.cellElement.find(".dx-link"),t.text(""),i?(t.filter(".dx-link-save").addClass("dx-icon-save"),t.filter(".dx-link-cancel").addClass("dx-icon-revert")):(t.filter(".dx-link-edit").addClass("dx-icon-edit"),t.filter(".dx-link-delete").addClass("dx-icon-trash")))},getPartial:function(n,t){var u=this,r=n.substring(n.lastIndexOf("/")+1),i=n;t&&(i=n+"/"+t);$.get(i,function(n){$("[data-partial="+r+"]").html(n)})},loadingPanelShow:function(){var n=this;$("#loadPanel").dxLoadPanel("instance").show()},loadingPanelHide:function(){var n=this;$("#loadPanel").dxLoadPanel("instance").hide()},dxToastShow:function(n,t){var r=this,i=$("#ToastExeption").dxToast("instance");n?(i.option("contentTemplate",t),i.option("type","success")):(i.option("contentTemplate",t),i.option("type","error"));i.show()}},accountIndexFunctions={events:function(){var n=this},onContentReady:function(n,t,i){var f=this,r,u;$("#imgupxBtn").length==0&&(r=$('<div class="icon-margin">').attr("id","imgupxBtn").dxButton({hint:i,icon:"image",disabled:!0,onClick:function(){var n=$("#UsefulLinks").dxDataGrid("instance").getSelectedRowsData(0);n[0].UsefulLinksId&&(generalFunctions.getPartial("/Account/UsefulLinksImage",n[0].UsefulLinksId),$("#pp_ImageUpload").dxPopup("instance").show())}}),u=n.element.find(".dx-toolbar-after"),$(u.get(0)).prepend(r));$("#refxBtn").length==0&&(r=$('<div class="icon-margin">').attr("id","refxBtn").dxButton({hint:t,icon:"refresh",onClick:function(){$("#UsefulLinks").dxDataGrid("instance").refresh()}}),u=n.element.find(".dx-toolbar-after"),$(u.get(0)).prepend(r))},onReorder:function(n){var e=this,i=n.component,r=i.getDataSource().store(),u=i.getVisibleRows(),f=u[n.toIndex].data.Sorting,t=$.Deferred();r.update(n.itemData.UsefulLinksId,{Sorting:f}).then(function(){i.refresh().then(t.resolve,t.reject)},t.reject);n.promise=t.promise()},onSelectionChanged:function(){var n=this;$("#imgupxBtn").dxButton("instance").option("disabled",!1)},onRowInserted:function(){var n=this;$("#UsefulLinks").dxDataGrid("instance").refresh()},setUploadImage:function(n,t){var i=this;$(".usefullinksimg").attr("src",t+n.file.name)}};